{"version":3,"file":"vue.js","sources":["../src/compiler/parse.js","../src/compiler/index.js","../src/observe/dep.js","../src/observe/watch.js","../src/vnode/index.js","../src/lifecycle.js","../src/observe/arr.js","../src/observe/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 他匹配到的分组是一个 标签名  <xxx 匹配到的是开始 标签的名字\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配的是</xxxx>  最终匹配到的分组就是结束标签的名字\nconst attribute =\n  /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性\n// 第一个分组就是属性的key value 就是 分组3/分组4/分组五\nconst startTagClose = /^\\s*(\\/?)>/; // <div> <br/>\n\n// vue3 采用的不是使用正则\n// 对模板进行编译处理\n\nexport function parseHTML(html) {\n  // html最开始肯定是一个  </div>\n\n  const ELEMENT_TYPE = 1;\n  const TEXT_TYPE = 3;\n  const stack = []; // 用于存放元素的\n  let currentParent; // 指向的是栈中的最后一个\n  let root;\n\n  // 最终需要转化成一颗抽象语法树\n  function createASTElement(tag, attrs) {\n    return {\n      tag,\n      type: ELEMENT_TYPE,\n      children: [],\n      attrs,\n      parent: null,\n    };\n  }\n  // 利用栈型结构 来构造一颗树\n  function start(tag, attrs) {\n    let node = createASTElement(tag, attrs); // 创造一个ast节点\n    if (!root) {\n      // 看一下是否是空树\n      root = node; // 如果为空则当前是树的根节点\n    }\n    if (currentParent) {\n      node.parent = currentParent; // 只赋予了parent属性\n      currentParent.children.push(node); // 还需要让父亲记住自己\n    }\n    stack.push(node);\n    currentParent = node; // currentParent为栈中的最后一个\n  }\n  function chars(text) {\n    // 文本直接放到当前指向的节点中\n    text = text.replace(/\\s/g, ''); // 如果空格超过2就删除2个以上的\n    text &&\n      currentParent.children.push({\n        type: TEXT_TYPE,\n        text,\n        parent: currentParent,\n      });\n  }\n  function end(tag) {\n    let node = stack.pop(); // 弹出最后一个, 校验标签是否合法\n    currentParent = stack[stack.length - 1];\n  }\n  function advance(n) {\n    html = html.substring(n);\n  }\n  function parseStartTag() {\n    const start = html.match(startTagOpen);\n    if (start) {\n      const match = {\n        tagName: start[1], // 标签名\n        attrs: [],\n      };\n      advance(start[0].length);\n      // 如果不是开始标签的结束 就一直匹配下去\n      let attr, end;\n      while (\n        !(end = html.match(startTagClose)) &&\n        (attr = html.match(attribute))\n      ) {\n        advance(attr[0].length);\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[5] || true,\n        });\n      }\n      if (end) {\n        advance(end[0].length);\n      }\n      return match;\n    }\n    return false; // 不是开始标签\n  }\n  while (html) {\n    // 如果textEnd 为0 说明是一个开始标签或者结束标签\n    // 如果textEnd > 0说明就是文本的结束位置\n    let textEnd = html.indexOf(\"<\"); // 如果indexOf中的索引是0 则说明是个标签\n    if (textEnd == 0) {\n      const startTagMatch = parseStartTag(); // 开始标签的匹配结果\n      if (startTagMatch) {\n        // 解析到的开始标签\n        start(startTagMatch.tagName, startTagMatch.attrs);\n        continue;\n      }\n      let endTagMatch = html.match(endTag);\n      if (endTagMatch) {\n        advance(endTagMatch[0].length);\n        end(endTagMatch[1]);\n        continue;\n      }\n    }\n    if (textEnd > 0) {\n      let text = html.substring(0, textEnd); // 文本内容\n      if (text) {\n        chars(text);\n        advance(text.length); // 解析到的文本\n      }\n    }\n  }\n  return root;\n}\n","import { parseHTML } from \"./parse\";\n\nfunction genProps(attrs) {\n  let str = \"\"; // {name,value}\n  for (let i = 0; i < attrs.length; i++) {\n    let attr = attrs[i];\n    if (attr.name === \"style\") {\n      // color:red;background:red => {color:'red'}\n      let obj = {};\n      attr.value.split(\";\").forEach((item) => {\n        // qs 库\n        let [key, value] = item.split(\":\");\n        obj[key] = value;\n      });\n      attr.value = obj;\n    }\n    str += `${attr.name}:${JSON.stringify(attr.value)},`; // a:b,c:d,\n  }\n  return `{${str.slice(0, -1)}}`;\n}\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // {{ asdsadsa }}  匹配到的内容就是我们表达式的变量\nfunction gen(node) {\n  if (node.type === 1) {\n    return codegen(node);\n  } else {\n    // 文本\n    let text = node.text;\n    if (!defaultTagRE.test(text)) {\n      return `_v(${JSON.stringify(text)})`;\n    } else {\n      //_v( _s(name)+'hello' + _s(name))\n      let tokens = [];\n      let match;\n      defaultTagRE.lastIndex = 0;\n      let lastIndex = 0;\n      // split\n      while ((match = defaultTagRE.exec(text))) {\n        let index = match.index; // 匹配的位置  {{name}} hello  {{name}} hello\n        if (index > lastIndex) {\n          tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n        }\n        tokens.push(`_s(${match[1].trim()})`);\n        lastIndex = index + match[0].length;\n      }\n      if (lastIndex < text.length) {\n        tokens.push(JSON.stringify(text.slice(lastIndex)));\n      }\n      return `_v(${tokens.join(\"+\")})`;\n    }\n  }\n}\nfunction genChildren(children) {\n  return children.map((child) => gen(child)).join(\",\");\n}\nfunction codegen(ast) {\n  let children = genChildren(ast.children);\n  let code = `_c('${ast.tag}',${\n    ast.attrs.length > 0 ? genProps(ast.attrs) : \"null\"\n  }${ast.children.length ? `,${children}` : \"\"})`;\n\n  return code;\n}\nexport function compileToFunction(template) {\n  // 1.就是将template 转化成ast语法树\n  let ast = parseHTML(template);\n\n  // 2.生成render方法 (render方法执行后的返回的结果就是 虚拟DOM)\n\n  // 模板引擎的实现原理 就是 with  + new Function\n\n  let code = codegen(ast);\n  code = `with(this){return ${code}}`;\n  let render = new Function(code); // 根据代码生成render函数\n\n  //  _c('div',{id:'app'},_c('div',{style:{color:'red'}},  _v(_s(vm.name)+'hello'),_c('span',undefined,  _v(_s(age))))\n\n  return render;\n}\n\n// <xxx\n// <namepsace:xxx\n// color   =   \"asdsada\"     c= 'asdasd'  d=  asdasdsa\n","let id = 0;\n\nclass Dep {\n  constructor() {\n    this.id = id++;\n    this.subs = []; // 存放watch\n  }\n  depend() {\n    Dep.target.addDep(this);\n    // this.subs.push(Dep.target);\n  }\n  notify() {\n    this.subs.forEach((watch) => watch.update());\n  }\n  addSub(watcher) {\n    this.subs.push(watcher);\n  }\n}\nDep.target = null;\nexport default Dep;\n","import Dep from \"./dep\";\n\nlet id = 0;\nclass Watcher {\n  // 不同组件有不同 watcher\n  constructor(vm, fn, options) {\n    this.id = id++;\n    this.renderWatcher = options;\n    this.getter = fn;\n    this.depsId = new Set();\n    this.deps = [];\n    this.get();\n  }\n  get() {\n    Dep.target = this; // 静态属性\n    this.getter();\n    Dep.target = null; // 置空\n  }\n  update() {\n    // console.log(\"update\");\n    // this.get();\n    queueWatch(this);\n  }\n  run() {\n    this.get();\n  }\n  addDep(dep) {\n    const id = dep.id;\n    if (!this.depsId.has(id)) {\n      this.deps.push(dep);\n      this.depsId.add(id);\n      dep.addSub(this);\n    }\n  }\n}\nlet queue = [];\nlet has = {};\nlet pending = false;\nfunction flushSchedluQueue() {\n  let flushQueue = queue.slice(0);\n  queue = [];\n  has = {};\n  pending = false;\n  flushQueue.forEach((q) => q.run());\n}\nfunction queueWatch(watcher) {\n  let id = watcher.id;\n  if (!has[id]) {\n    queue.push(watcher);\n    has[id] = true;\n    if (!pending) {\n      nextTick(flushSchedluQueue, 0);\n      pending = true;\n    }\n  }\n}\nlet callbacks = [];\nlet waiting = false;\nfunction flushCallback() {\n  let cbs = callbacks.slice(0);\n  callbacks = [];\n  waiting = false;\n  cbs.forEach((cb) => cb());\n}\nexport function nextTick(cb) {\n  callbacks.push(cb);\n  if (!waiting) {\n    setTimeout(() => {\n      flushCallback();\n    }, 0);\n    waiting = true;\n  }\n}\nexport default Watcher;\n","export function createElementVNode(vm, tag, data, ...children) {\n  if (data == null) {\n    data = {};\n  }\n  let key = data.key;\n  if (key) {\n    delete data.key;\n  }\n  return vnode(vm, tag, key, data, children);\n}\n\nexport function createTextVNode(vm, text) {\n  return vnode(vm, undefined, undefined, undefined, undefined, text);\n}\n\nfunction vnode(vm, tag, key, data, children, text) {\n  return {\n    vm,\n    tag,\n    data,\n    key,\n    children,\n    text,\n  };\n}\n","import Watcher from \"./observe/watch\";\nimport { createElementVNode, createTextVNode } from \"./vnode\";\nfunction createElm(vnode) {\n  const { tag, data, children, text } = vnode;\n  if (typeof tag === \"string\") {\n    vnode.el = document.createElement(tag);\n    patchProps(vnode.el, data);\n    children.forEach((child) => {\n      vnode.el.appendChild(createElm(child));\n    });\n  } else {\n    vnode.el = document.createTextNode(text);\n  }\n  return vnode.el;\n}\nfunction patchProps(el, props) {\n  for (let key in props) {\n    if (key === \"style\") {\n      for (let styleName in props.style) {\n        el.style[styleName] = props.style[styleName];\n      }\n    } else {\n      el.setAttribute(key, props[key]);\n    }\n  }\n}\nfunction patch(oldVnode, vnode) {\n  const isRealElement = oldVnode.nodeType;\n  if (isRealElement) {\n    const elm = oldVnode;\n    const parentElm = elm.parentNode;\n    let newElm = createElm(vnode);\n    parentElm.insertBefore(newElm, elm.nextSibling);\n\n    parentElm.removeChild(elm);\n    return newElm;\n  } else {\n    // diff\n  }\n}\nexport function initLifeCycle(Vue) {\n  Vue.prototype._c = function () {\n    return createElementVNode(this, ...arguments);\n  };\n  Vue.prototype._v = function () {\n    return createTextVNode(this, ...arguments);\n  };\n  Vue.prototype._s = function (value) {\n    if (typeof value !== \"object\") return value;\n    return JSON.stringify(value);\n  };\n  Vue.prototype._update = function (vnode) {\n    const vm = this;\n    const el = vm.$el;\n    vm.$el = patch(el, vnode);\n  };\n  Vue.prototype._render = function () {\n    return this.$options.render.call(this);\n  };\n}\n\nexport function mountComponent(vm, el) {\n  vm.$el = el;\n  const updateComponent = () => {\n    vm._update(vm._render());\n  };\n  new Watcher(vm, updateComponent, true);\n}\n","// 监听数组变异方法（修改数组本身）  7个\n\nlet oldArrayPrototype = Array.prototype;\nexport let newArrayPrototype = Object.create(oldArrayPrototype);\n\nconst methods = [\n  \"push\",\n  \"shift\",\n  \"pop\",\n  \"unshift\",\n  \"reserve\",\n  \"sort\",\n  \"splice\",\n];\nmethods.forEach((method) => {\n  newArrayPrototype[method] = function (...args) {\n    let result = oldArrayPrototype[method].call(this, ...args); // 函数劫持   切片编程\n    let inserted;\n    let ob = this.__ob__;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n      default:\n        break;\n    }\n    ob.observeArr(inserted);\n    return result;\n  };\n});\n","import { newArrayPrototype } from \"./arr\";\nimport Dep from \"./dep\";\n\nclass Observe {\n  constructor(data) {\n    Object.defineProperty(data, \"__ob__\", {\n      value: this,\n      enumerable: false,\n    });\n    if (Array.isArray(data)) {\n      // 保留原数组特性并重写部分方法\n      data.__proto__ = newArrayPrototype;\n      this.observeArr(data); // 数组中放有对象，继续监控对象变化\n    } else {\n      this.walk(data);\n    }\n  }\n  walk(data) {\n    // Object.defineProperty 只能劫持已经存在的属性\n    // 重新定义属性\n    Object.keys(data).forEach((key) => defineReactive(data, key, data[key]));\n  }\n  observeArr(data) {\n    data.forEach((item) => observe(item));\n  }\n}\n// 闭包 value  //属性劫持\nfunction defineReactive(target, key, value) {\n  observe(value);\n  let dep = new Dep();\n  Object.defineProperty(target, key, {\n    get() {\n      if (Dep.target) {\n        dep.depend();\n      }\n      // 取值的时候\n      return value;\n    },\n    set(newValue) {\n      // 设置 修改值\n      if (value === newValue) return;\n      observe(newValue);\n      value = newValue;\n      dep.notify();\n    },\n  });\n}\nexport function observe(data) {\n  if (typeof data !== \"object\" || data === null) return;\n  // 如果一个对象被劫持了，就不需要劫持了，可以增加一个实例，实例来判断是否被劫持过\n  if (data.__ob__ instanceof Observe) {\n    return data.__ob__;\n  }\n  return new Observe(data);\n}\n","import { observe } from \"./observe/index\";\n\nexport function initState(vm) {\n  const opts = vm.$options;\n  if (opts.data) {\n    initDate(vm);\n  }\n}\nfunction proxy(vm, target, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[target][key];\n    },\n    set(newValue) {\n      vm[target][key] = newValue;\n    },\n  });\n}\nfunction initDate(vm) {\n  let data = vm.$options.data;\n  data = typeof data === \"function\" ? data.call(vm) : data;\n  vm._data = data;\n  for (let key in data) {\n    proxy(vm, \"_data\", key);\n  }\n  observe(data);\n}\n","import { compileToFunction } from \"./compiler/index\";\nimport { mountComponent } from \"./lifecycle\";\nimport { initState } from \"./state\";\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm.$options = options; // 将 用户的选项配置 挂到vm实例上\n    initState(vm);\n    if (options.el) {\n      vm.$mount(options.el); //数据的挂载\n    }\n  };\n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    let opts = vm.$options;\n    el = document.querySelector(el);\n    if (!opts.render) {\n      let template;\n      if (!opts.template && el) {\n        template = el.outerHTML;\n      } else {\n        template = opts.template;\n      }\n      if (template) {\n        const render = compileToFunction(template);\n        opts.render = render;\n      }\n    }\n    mountComponent(vm, el); // 组建初渲染 挂载\n  };\n}\n","import { initMixin } from \"./init\";\nimport { initLifeCycle } from \"./lifecycle\";\nimport { nextTick } from \"./observe/watch\";\n\nfunction Vue(options) {\n  this._init(options);\n}\nVue.prototype.$nextTick = nextTick;\ninitLifeCycle(Vue);\ninitMixin(Vue);\nexport default Vue;\n"],"names":["ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","ELEMENT_TYPE","TEXT_TYPE","stack","currentParent","root","createASTElement","tag","attrs","type","children","parent","start","node","push","chars","text","replace","end","pop","length","advance","n","substring","parseStartTag","match","tagName","attr","name","value","textEnd","indexOf","startTagMatch","endTagMatch","genProps","str","i","obj","split","forEach","item","key","JSON","stringify","slice","defaultTagRE","gen","codegen","test","tokens","lastIndex","exec","index","trim","join","genChildren","map","child","ast","code","compileToFunction","template","render","Function","id","Dep","subs","target","addDep","watch","update","watcher","Watcher","vm","fn","options","renderWatcher","getter","depsId","Set","deps","get","queueWatch","dep","has","add","addSub","queue","pending","flushSchedluQueue","flushQueue","q","run","nextTick","callbacks","waiting","flushCallback","cbs","cb","setTimeout","createElementVNode","data","vnode","createTextVNode","undefined","createElm","el","document","createElement","patchProps","appendChild","createTextNode","props","styleName","style","setAttribute","patch","oldVnode","isRealElement","nodeType","elm","parentElm","parentNode","newElm","insertBefore","nextSibling","removeChild","initLifeCycle","Vue","prototype","_c","arguments","_v","_s","_update","$el","_render","$options","call","mountComponent","updateComponent","oldArrayPrototype","Array","newArrayPrototype","Object","create","methods","method","args","result","inserted","ob","__ob__","observeArr","Observe","defineProperty","enumerable","isArray","__proto__","walk","keys","defineReactive","observe","depend","set","newValue","notify","initState","opts","initDate","proxy","_data","initMixin","_init","$mount","querySelector","outerHTML","$nextTick"],"mappings":"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"}