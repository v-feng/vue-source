{"version":3,"file":"vue.js","sources":["../src/utils.js","../src/globalApi.js","../src/compiler/parse.js","../src/compiler/index.js","../src/observe/dep.js","../src/observe/watch.js","../src/vnode/index.js","../src/lifecycle.js","../src/observe/arr.js","../src/observe/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["export function mergeOptions(parent, chidren) {\n  const stracs = {};\n  const LIFECYCLE = [\"beforeCreate\", \"created\"];\n  LIFECYCLE.forEach((hook) => {\n    stracs[hook] = function (p, c) {\n      if (c) {\n        if (p) {\n          return p.concat(c);\n        } else {\n          return [c];\n        }\n      } else {\n        return p;\n      }\n    };\n  });\n  const options = {};\n  for (let key in parent) {\n    mergeFiled(key);\n  }\n  for (let key in chidren) {\n    if (!parent.hasOwnProperty(key)) {\n      mergeFiled(key);\n    }\n  }\n  function mergeFiled(key) {\n    // 策略 减少判断逻辑\n    if (stracs[key]) {\n      options[key] = stracs[key](parent[key], chidren[key]);\n    } else {\n      options[key] = chidren[key] || parent[key];\n    }\n  }\n  return options;\n}\n\n\n","import { mergeOptions } from \"./utils\";\n\nexport function initGlobalApi(Vue) {\n  Vue.options = {};\n  Vue.mixin = function (mixin) {\n    this.options = mergeOptions(this.options, mixin);\n    return this;\n  };\n}\n","const ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 他匹配到的分组是一个 标签名  <xxx 匹配到的是开始 标签的名字\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); // 匹配的是</xxxx>  最终匹配到的分组就是结束标签的名字\nconst attribute =\n  /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 匹配属性\n// 第一个分组就是属性的key value 就是 分组3/分组4/分组五\nconst startTagClose = /^\\s*(\\/?)>/; // <div> <br/>\n\n// vue3 采用的不是使用正则\n// 对模板进行编译处理\n\nexport function parseHTML(html) {\n  // html最开始肯定是一个  </div>\n\n  const ELEMENT_TYPE = 1;\n  const TEXT_TYPE = 3;\n  const stack = []; // 用于存放元素的\n  let currentParent; // 指向的是栈中的最后一个\n  let root;\n\n  // 最终需要转化成一颗抽象语法树\n  function createASTElement(tag, attrs) {\n    return {\n      tag,\n      type: ELEMENT_TYPE,\n      children: [],\n      attrs,\n      parent: null,\n    };\n  }\n  // 利用栈型结构 来构造一颗树\n  function start(tag, attrs) {\n    let node = createASTElement(tag, attrs); // 创造一个ast节点\n    if (!root) {\n      // 看一下是否是空树\n      root = node; // 如果为空则当前是树的根节点\n    }\n    if (currentParent) {\n      node.parent = currentParent; // 只赋予了parent属性\n      currentParent.children.push(node); // 还需要让父亲记住自己\n    }\n    stack.push(node);\n    currentParent = node; // currentParent为栈中的最后一个\n  }\n  function chars(text) {\n    // 文本直接放到当前指向的节点中\n    text = text.replace(/\\s/g, ''); // 如果空格超过2就删除2个以上的\n    text &&\n      currentParent.children.push({\n        type: TEXT_TYPE,\n        text,\n        parent: currentParent,\n      });\n  }\n  function end(tag) {\n    let node = stack.pop(); // 弹出最后一个, 校验标签是否合法\n    currentParent = stack[stack.length - 1];\n  }\n  function advance(n) {\n    html = html.substring(n);\n  }\n  function parseStartTag() {\n    const start = html.match(startTagOpen);\n    if (start) {\n      const match = {\n        tagName: start[1], // 标签名\n        attrs: [],\n      };\n      advance(start[0].length);\n      // 如果不是开始标签的结束 就一直匹配下去\n      let attr, end;\n      while (\n        !(end = html.match(startTagClose)) &&\n        (attr = html.match(attribute))\n      ) {\n        advance(attr[0].length);\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[5] || true,\n        });\n      }\n      if (end) {\n        advance(end[0].length);\n      }\n      return match;\n    }\n    return false; // 不是开始标签\n  }\n  while (html) {\n    // 如果textEnd 为0 说明是一个开始标签或者结束标签\n    // 如果textEnd > 0说明就是文本的结束位置\n    let textEnd = html.indexOf(\"<\"); // 如果indexOf中的索引是0 则说明是个标签\n    if (textEnd == 0) {\n      const startTagMatch = parseStartTag(); // 开始标签的匹配结果\n      if (startTagMatch) {\n        // 解析到的开始标签\n        start(startTagMatch.tagName, startTagMatch.attrs);\n        continue;\n      }\n      let endTagMatch = html.match(endTag);\n      if (endTagMatch) {\n        advance(endTagMatch[0].length);\n        end(endTagMatch[1]);\n        continue;\n      }\n    }\n    if (textEnd > 0) {\n      let text = html.substring(0, textEnd); // 文本内容\n      if (text) {\n        chars(text);\n        advance(text.length); // 解析到的文本\n      }\n    }\n  }\n  return root;\n}\n","import { parseHTML } from \"./parse\";\n\nfunction genProps(attrs) {\n  let str = \"\"; // {name,value}\n  for (let i = 0; i < attrs.length; i++) {\n    let attr = attrs[i];\n    if (attr.name === \"style\") {\n      // color:red;background:red => {color:'red'}\n      let obj = {};\n      attr.value.split(\";\").forEach((item) => {\n        // qs 库\n        let [key, value] = item.split(\":\");\n        obj[key] = value;\n      });\n      attr.value = obj;\n    }\n    str += `${attr.name}:${JSON.stringify(attr.value)},`; // a:b,c:d,\n  }\n  return `{${str.slice(0, -1)}}`;\n}\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; // {{ asdsadsa }}  匹配到的内容就是我们表达式的变量\nfunction gen(node) {\n  if (node.type === 1) {\n    return codegen(node);\n  } else {\n    // 文本\n    let text = node.text;\n    if (!defaultTagRE.test(text)) {\n      return `_v(${JSON.stringify(text)})`;\n    } else {\n      //_v( _s(name)+'hello' + _s(name))\n      let tokens = [];\n      let match;\n      defaultTagRE.lastIndex = 0;\n      let lastIndex = 0;\n      // split\n      while ((match = defaultTagRE.exec(text))) {\n        let index = match.index; // 匹配的位置  {{name}} hello  {{name}} hello\n        if (index > lastIndex) {\n          tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n        }\n        tokens.push(`_s(${match[1].trim()})`);\n        lastIndex = index + match[0].length;\n      }\n      if (lastIndex < text.length) {\n        tokens.push(JSON.stringify(text.slice(lastIndex)));\n      }\n      return `_v(${tokens.join(\"+\")})`;\n    }\n  }\n}\nfunction genChildren(children) {\n  return children.map((child) => gen(child)).join(\",\");\n}\nfunction codegen(ast) {\n  let children = genChildren(ast.children);\n  let code = `_c('${ast.tag}',${\n    ast.attrs.length > 0 ? genProps(ast.attrs) : \"null\"\n  }${ast.children.length ? `,${children}` : \"\"})`;\n\n  return code;\n}\nexport function compileToFunction(template) {\n  // 1.就是将template 转化成ast语法树\n  let ast = parseHTML(template);\n\n  // 2.生成render方法 (render方法执行后的返回的结果就是 虚拟DOM)\n\n  // 模板引擎的实现原理 就是 with  + new Function\n\n  let code = codegen(ast);\n  code = `with(this){return ${code}}`;\n  let render = new Function(code); // 根据代码生成render函数\n  //  _c('div',{id:'app'},_c('div',{style:{color:'red'}},  _v(_s(vm.name)+'hello'),_c('span',undefined,  _v(_s(age))))\n\n  return render;\n}\n\n// <xxx\n// <namepsace:xxx\n// color   =   \"asdsada\"     c= 'asdasd'  d=  asdasdsa\n","let id = 0;\n\nclass Dep {\n  constructor() {\n    this.id = id++;\n    this.subs = []; // 存放watch\n  }\n  depend() {\n    Dep.target.addDep(this);\n    // this.subs.push(Dep.target);\n  }\n  notify() {\n    this.subs.forEach((watch) => watch.update());\n  }\n  addSub(watcher) {\n    this.subs.push(watcher);\n  }\n}\nlet stack = [];\nexport function pushTarget(watcher) {\n  stack.push(watcher);\n  Dep.target = watcher;\n}\nexport function popTarget() {\n  stack.pop();\n  Dep.target = stack[stack.length - 1];\n}\nexport default Dep;\n","import Dep, { popTarget, pushTarget } from \"./dep\";\n\nlet id = 0;\nclass Watcher {\n  // 不同组件有不同 watcher\n  constructor(vm, exprOrfn, options, cb) {\n    this.id = id++;\n    this.cb = cb;\n    this.renderWatcher = options;\n    this.user = options.user;\n    if (typeof exprOrfn === \"string\") {\n      this.getter = function () {\n        return vm[exprOrfn];\n      };\n    } else {\n      this.getter = exprOrfn;\n    }\n    this.depsId = new Set();\n    this.deps = [];\n    this.vm = vm;\n    this.lazy = options.lazy;\n    this.dirty = this.lazy;\n    this.value = this.lazy ? undefined : this.get();\n  }\n  get() {\n    pushTarget(this);\n    let value = this.getter.call(this.vm);\n    popTarget();\n    return value;\n  }\n  evatelue() {\n    this.value = this.get();\n    this.dirty = false;\n  }\n\n  run() {\n    let oldValue = this.value;\n    let newValue = this.get();\n    if (this.user) {\n      this.cb.call(this.vm, newValue, oldValue);\n    }\n  }\n  depend() {\n    let i = this.deps.length;\n    while (i--) {\n      this.deps[i].depend();\n    }\n  }\n  update() {\n    if (this.lazy) {\n      this.dirty = true;\n    } else {\n      queueWatch(this);\n    }\n  }\n  addDep(dep) {\n    const id = dep.id;\n    if (!this.depsId.has(id)) {\n      this.deps.push(dep);\n      this.depsId.add(id);\n      dep.addSub(this);\n    }\n  }\n}\nlet queue = [];\nlet has = {};\nlet pending = false;\nfunction flushSchedluQueue() {\n  let flushQueue = queue.slice(0);\n  queue = [];\n  has = {};\n  pending = false;\n  flushQueue.forEach((q) => q.run());\n}\nfunction queueWatch(watcher) {\n  let id = watcher.id;\n  if (!has[id]) {\n    queue.push(watcher);\n    has[id] = true;\n    if (!pending) {\n      nextTick(flushSchedluQueue, 0);\n      pending = true;\n    }\n  }\n}\nlet callbacks = [];\nlet waiting = false;\nfunction flushCallback() {\n  let cbs = callbacks.slice(0);\n  callbacks = [];\n  waiting = false;\n  cbs.forEach((cb) => cb());\n}\n\nexport function nextTick(cb) {\n  callbacks.push(cb);\n  if (!waiting) {\n    Promise.resolve().then(flushCallback);\n    waiting = true;\n  }\n}\nexport default Watcher;\n","export function createElementVNode(vm, tag, data, ...children) {\n  if (data == null) {\n    data = {};\n  }\n  let key = data.key;\n  if (key) {\n    delete data.key;\n  }\n  return vnode(vm, tag, key, data, children);\n}\n\nexport function createTextVNode(vm, text) {\n  return vnode(vm, undefined, undefined, undefined, undefined, text);\n}\n\nfunction vnode(vm, tag, key, data, children, text) {\n  return {\n    vm,\n    tag,\n    data,\n    key,\n    children,\n    text,\n  };\n}\n","import Watcher from \"./observe/watch\";\nimport { createElementVNode, createTextVNode } from \"./vnode\";\nfunction createElm(vnode) {\n  const { tag, data, children, text } = vnode;\n  if (typeof tag === \"string\") {\n    vnode.el = document.createElement(tag);\n    patchProps(vnode.el, data);\n    children.forEach((child) => {\n      vnode.el.appendChild(createElm(child));\n    });\n  } else {\n    vnode.el = document.createTextNode(text);\n  }\n  return vnode.el;\n}\nfunction patchProps(el, props) {\n  for (let key in props) {\n    if (key === \"style\") {\n      for (let styleName in props.style) {\n        el.style[styleName] = props.style[styleName];\n      }\n    } else {\n      el.setAttribute(key, props[key]);\n    }\n  }\n}\nfunction patch(oldVnode, vnode) {\n  const isRealElement = oldVnode.nodeType;\n  if (isRealElement) {\n    const elm = oldVnode;\n    const parentElm = elm.parentNode;\n    let newElm = createElm(vnode);\n    parentElm.insertBefore(newElm, elm.nextSibling);\n\n    parentElm.removeChild(elm);\n    return newElm;\n  } else {\n    // diff\n  }\n}\nexport function initLifeCycle(Vue) {\n  Vue.prototype._c = function () {\n    return createElementVNode(this, ...arguments);\n  };\n  Vue.prototype._v = function () {\n    return createTextVNode(this, ...arguments);\n  };\n  Vue.prototype._s = function (value) {\n    if (typeof value !== \"object\") return value;\n    return JSON.stringify(value);\n  };\n  Vue.prototype._update = function (vnode) {\n    const vm = this;\n    const el = vm.$el;\n    vm.$el = patch(el, vnode);\n  };\n  Vue.prototype._render = function () {\n    return this.$options.render.call(this);\n  };\n}\n\nexport function mountComponent(vm, el) {\n  vm.$el = el;\n  const updateComponent = () => {\n    vm._update(vm._render());\n  };\n  new Watcher(vm, updateComponent, true);\n}\n\nexport function callHooks(vm, hook) {\n  const handlers = vm.$options[hook];\n  if (handlers) {\n    handlers.forEach((handle) => handle(vm));\n  }\n}\n","// 监听数组变异方法（修改数组本身）  7个\n\nlet oldArrayPrototype = Array.prototype;\nexport let newArrayPrototype = Object.create(oldArrayPrototype);\n\nconst methods = [\n  \"push\",\n  \"shift\",\n  \"pop\",\n  \"unshift\",\n  \"reserve\",\n  \"sort\",\n  \"splice\",\n];\nmethods.forEach((method) => {\n  newArrayPrototype[method] = function (...args) {\n    let result = oldArrayPrototype[method].call(this, ...args); // 函数劫持   切片编程\n    let inserted;\n    let ob = this.__ob__;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n      default:\n        break;\n    }\n    ob.observeArr(inserted);\n    return result;\n  };\n});\n","import { newArrayPrototype } from \"./arr\";\nimport Dep from \"./dep\";\n\nclass Observe {\n  constructor(data) {\n    Object.defineProperty(data, \"__ob__\", {\n      value: this,\n      enumerable: false,\n    });\n    if (Array.isArray(data)) {\n      // 保留原数组特性并重写部分方法\n      data.__proto__ = newArrayPrototype;\n      this.observeArr(data); // 数组中放有对象，继续监控对象变化\n    } else {\n      this.walk(data);\n    }\n  }\n  walk(data) {\n    // Object.defineProperty 只能劫持已经存在的属性\n    // 重新定义属性\n    Object.keys(data).forEach((key) => defineReactive(data, key, data[key]));\n  }\n  observeArr(data) {\n    data.forEach((item) => observe(item));\n  }\n}\n// 闭包 value  //属性劫持\nfunction defineReactive(target, key, value) {\n  observe(value);\n  let dep = new Dep();\n  Object.defineProperty(target, key, {\n    get() {\n      if (Dep.target) {\n        dep.depend();\n      }\n      // 取值的时候\n      return value;\n    },\n    set(newValue) {\n      // 设置 修改值\n      if (value === newValue) return;\n      observe(newValue);\n      value = newValue;\n      dep.notify();\n    },\n  });\n}\nexport function observe(data) {\n  if (typeof data !== \"object\" || data === null) return;\n  // 如果一个对象被劫持了，就不需要劫持了，可以增加一个实例，实例来判断是否被劫持过\n  if (data.__ob__ instanceof Observe) {\n    return data.__ob__;\n  }\n  return new Observe(data);\n}\n","import Dep from \"./observe/dep\";\nimport { observe } from \"./observe/index\";\nimport Watcher from \"./observe/watch\";\n\nexport function initState(vm) {\n  const opts = vm.$options;\n  if (opts.data) {\n    initDate(vm);\n  }\n  if (opts.computed) {\n    initComputed(vm);\n  }\n  if (opts.watch) {\n    initWatch(vm);\n  }\n}\nfunction proxy(vm, target, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[target][key];\n    },\n    set(newValue) {\n      vm[target][key] = newValue;\n    },\n  });\n}\nfunction initDate(vm) {\n  let data = vm.$options.data;\n  data = typeof data === \"function\" ? data.call(vm) : data;\n  vm._data = data;\n  for (let key in data) {\n    proxy(vm, \"_data\", key);\n  }\n  observe(data);\n}\nfunction initComputed(vm) {\n  const computed = vm.$options.computed;\n  const watchers = (vm._computedWatchers = {});\n  for (let key in computed) {\n    let userDef = computed[key];\n    let fn = typeof userDef === \"function\" ? userDef : userDef.get;\n\n    watchers[key] = new Watcher(vm, fn, { lazy: true });\n\n    defineComputed(vm, key, userDef);\n  }\n}\nfunction defineComputed(vm, key, userDef) {\n  const setter = userDef.set || (() => {});\n  Object.defineProperty(vm, key, {\n    get: createComputedGetter(key),\n    set: setter,\n  });\n}\nfunction createComputedGetter(key) {\n  return function () {\n    const watcher = this._computedWatchers[key];\n    if (watcher.dirty) {\n      watcher.evatelue();\n    }\n    if (Dep.target) {\n      watcher.depend();\n    }\n    return watcher.value;\n  };\n}\n\nfunction initWatch(vm) {\n  const watch = vm.$options.watch;\n  for (let key in watch) {\n    const handler = watch[key]; // 字符串 数组 函数\n    if (Array.isArray(handler)) {\n      for (let i = 0; i < handler.length; i++) {\n        createWatch(vm, key, handler[i]);\n      }\n    } else {\n      createWatch(vm, key, handler);\n    }\n  }\n}\n\nfunction createWatch(vm, key, handler) {\n  if (typeof handler === \"string\") {\n    handler = vm[handler];\n  }\n  return vm.$watch(key, handler);\n}\n","import { compileToFunction } from \"./compiler/index\";\nimport { callHooks, mountComponent } from \"./lifecycle\";\nimport { initState } from \"./state\";\nimport { mergeOptions } from \"./utils\";\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm.$options = mergeOptions(this.constructor.options, options); // 将 用户的选项配置 挂到vm实例上\n    callHooks(vm, \"beforeCreate\");\n    initState(vm);\n    callHooks(vm, \"created\");\n\n    if (options.el) {\n      vm.$mount(options.el); //数据的挂载\n    }\n  };\n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    let opts = vm.$options;\n    el = document.querySelector(el);\n    if (!opts.render) {\n      let template;\n      if (!opts.template && el) {\n        template = el.outerHTML;\n      } else {\n        template = opts.template;\n      }\n      if (template) {\n        const render = compileToFunction(template);\n        opts.render = render;\n      }\n    }\n    mountComponent(vm, el); // 组建初渲染 挂载\n  };\n}\n","import { initGlobalApi } from \"./globalApi\";\nimport { initMixin } from \"./init\";\nimport { initLifeCycle } from \"./lifecycle\";\nimport Watcher, { nextTick } from \"./observe/watch\";\n\nfunction Vue(options) {\n  this._init(options);\n}\nVue.prototype.$nextTick = nextTick;\ninitLifeCycle(Vue);\ninitMixin(Vue);\ninitGlobalApi(Vue);\n\nVue.prototype.$watch = function (expreOrFn, cb) {\n  new Watcher(this, expreOrFn, { user: true }, cb);\n};\n\nexport default Vue;\n"],"names":["mergeOptions","parent","chidren","stracs","LIFECYCLE","forEach","hook","p","c","concat","options","key","mergeFiled","hasOwnProperty","initGlobalApi","Vue","mixin","ncname","qnameCapture","startTagOpen","RegExp","endTag","attribute","startTagClose","parseHTML","html","ELEMENT_TYPE","TEXT_TYPE","stack","currentParent","root","createASTElement","tag","attrs","type","children","start","node","push","chars","text","replace","end","pop","length","advance","n","substring","parseStartTag","match","tagName","attr","name","value","textEnd","indexOf","startTagMatch","endTagMatch","genProps","str","i","obj","split","item","JSON","stringify","slice","defaultTagRE","gen","codegen","test","tokens","lastIndex","exec","index","trim","join","genChildren","map","child","ast","code","compileToFunction","template","render","Function","id","Dep","subs","target","addDep","watch","update","watcher","pushTarget","popTarget","Watcher","vm","exprOrfn","cb","renderWatcher","user","getter","depsId","Set","deps","lazy","dirty","undefined","get","call","oldValue","newValue","depend","queueWatch","dep","has","add","addSub","queue","pending","flushSchedluQueue","flushQueue","q","run","nextTick","callbacks","waiting","flushCallback","cbs","Promise","resolve","then","createElementVNode","data","vnode","createTextVNode","createElm","el","document","createElement","patchProps","appendChild","createTextNode","props","styleName","style","setAttribute","patch","oldVnode","isRealElement","nodeType","elm","parentElm","parentNode","newElm","insertBefore","nextSibling","removeChild","initLifeCycle","prototype","_c","arguments","_v","_s","_update","$el","_render","$options","mountComponent","updateComponent","callHooks","handlers","handle","oldArrayPrototype","Array","newArrayPrototype","Object","create","methods","method","args","result","inserted","ob","__ob__","observeArr","Observe","defineProperty","enumerable","isArray","__proto__","walk","keys","defineReactive","observe","set","notify","initState","opts","initDate","computed","initComputed","initWatch","proxy","_data","watchers","_computedWatchers","userDef","fn","defineComputed","setter","createComputedGetter","evatelue","handler","createWatch","$watch","initMixin","_init","constructor","$mount","querySelector","outerHTML","$nextTick","expreOrFn"],"mappings":"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"}